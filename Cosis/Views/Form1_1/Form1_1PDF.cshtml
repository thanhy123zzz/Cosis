@model Cosis.Models.PhieuDieuTra
@{
    Layout = null;
    FormCosisContext context = new FormCosisContext();
    string getTinh(string ma)
    {
        return context.TinhTp.Find(ma).Name;
    }
    string getHuyen(string ma)
    {
        return context.QuanHuyen.Find(ma).Name;
    }
    string getXa(string ma)
    {
        return context.PhuongXa.Find(ma).Name;
    }
    NganhHoatDongKinhDoanh getNganhHoatDongKinhDoanh(string ma)
    {
        return context.NganhHoatDongKinhDoanh.Find(ma);
    }
    NhanToAnhHuong nhanToAnhHuong(string ma)
    {
        return context.NhanToAnhHuong.Find(ma);
    }

    string format(decimal? a){
        var info = System.Globalization.CultureInfo.GetCultureInfo("vi-VN");
        return
        String.Format(info, "{0:c}", a.Value);
    }
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet"
          href="~/assets/bootstrap-4.5.3-dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/assets/main.css" />
</head>
<body>
    <!--Form -->
    <div class="container">
        <form action="" class="form">
            <div class="form-group text-center">
                <h2 style="margin:30px 0"> <b>ĐIỀU TRA HOẠT ĐỘNG THƯƠNG MẠI VÀ DỊCH VỤ </b> </h2>
            </div>
            <div class="form-group row">
                <label class="P-name"><b>Phiếu 1.3/DN-VT-T</b></label>
                <label for="">Mã số thuế</label>
                <div class="row">
                    @for (int i = 0; i < 10; i++)
                    {
                            <input type="text"
                           id="n0"
                           maxlength="1"
                           size="1"
                           class="text-center MS"
                           autocomplete="off"
                           autofocus
                           data-next="1" 
                           value="@Model.Master.MaSoThue.Substring(i,1)"
                           />
                    }
                </div>
                <div class="row">
                    @for (int i = 0; i < 3; i++)
                    {

                        <input type="text"
                           id="n10"
                           maxlength="1"
                           size="1"
                           class="text-center MS"
                           autocomplete="off"
                           data-next="11" 
                           value="@Model.Master.MaSoThue2.Substring(i,1)"
                           />
                    }
                </div>
            </div>
            <div class="form-group text-center">
                <label class="text-center">
                    <b>PHIẾU THU THẬP THÔNG TIN ĐỐI VỚI DOANH NGHIỆP/HỢP TÁC XÃ</b>
                </label>
                <label>
                    <b>
                        <i>
                            (Áp dụng đối với doanh nghiệp/chi nhánh doanh nghiệp, hợp tác xã
                            có hoạt động vận tải, kho bãi)
                        </i>
                    </b>
                </label>
            </div>

            <div class="form-group text-center">
                <div class="row"></div>
                <div>
                    <label> <b>Tháng @Model.Master.NgayTao.Value.Month Năm @Model.Master.NgayTao.Value.Year</b> </label>
                </div>
                <div class="row"></div>
            </div>
            <div class="form-group bg-primary">
                <h5><b>A. THÔNG TIN CHUNG</b></h5>
            </div>
            <div class="form-group">
                <div class="row">
                    <label class="lb-info">Tên doanh nghiệp/HTX: </label>
                    <label>@Model.Master.Ten</label>
                </div>
                <div class="adress">
                    <label for="">Địa chỉ doanh nghiệp </label>
                    <div class="adress-detail">
                        <div class="row">
                            <label class="lb-info">Tỉnh/TP trực thuộc TW: </label>
                            <label>@getTinh(Model.Master.MaTinhTp)</label>
                        </div>
                        <div class="row">
                            <label class="lb-info">
                                Huyện/quận <i>(thị xã, TP thuộc tỉnh)</i>:
                            </label>
                            <label>@getHuyen(Model.Master.MaQuanHuyen)</label>
                        </div>
                        <div class="row">
                            <label class="lb-info">Xã/phường/thị trấn: </label>
                            <label>@getXa(Model.Master.MaPhuongXa)</label>
                        </div>
                        <div class="row">
                            <label class="lb-info">
                                Thôn, ấp<i>(số nhà, đường phố)</i>:
                            </label>
                            <label>@Model.Master.DiaChiCuThe</label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <label class="lb-info">Số điện thoại: </label>
                    <label>@Model.Master.Sdt</label>
                </div>
                <div class="row">
                    <label class="lb-info">Email: </label>
                    <label>@Model.Master.Email</label>
                </div>
                <div class="loaihinh">
                    <div class="checkbox-tt">
                        @if (Model.Master.MaLh.Trim() == "01")
                        {
                             <label>Loại hình kinh tế: Kinh tế nhà nước</label>
                        }
                        else if (Model.Master.MaLh.Trim() == "02")
                        {
                                <label>Loại hình kinh tế: Kinh tế ngoài nhà nước</label>
                        }
                        else if (Model.Master.MaLh.Trim() == "03")
                        {
                                <label>Loại hình kinh tế: Kinh tế có vốn đầu tư trực tiếp nước ngoài</label>
                        }
                    </div>
                    @*                    <div class="checkbox">
                        <input type="radio" name="loaihinhkt" value="Kinh tế nhà nước" />
                        <input type="radio"
                               name="loaihinhkt"
                               value="Kinh tế ngoài nhà nước" />
                        <input type="radio"
                               name="loaihinhkt"
                               value="Kinh tế có vốn đầu tư trực tiếp nước ngoài" />
                    </div>*@
                </div>
                <div class="nganhKD row">
                    <label class="nganh-lb">Ngành hoạt động kinh doanh</label>
                    <div class="nganh-ct">
                        @foreach (NganhKinhDoanh a in ViewBag.NganhKinhDoanh)
                        {
                            <div class="row">

                                <div class="MNHD row">
                                    @for (int i = 0; i < 5; i++)
                                    {
                                               <input type="text"
                                       maxlength="1"
                                       size="1"
                                       class="text-center MN" 
                                       value = "@a.MaNganh.Substring(i,1)"
                                       />
                                    }
                                </div>
                                <label for="">Tên ngành HĐKD:  @getNganhHoatDongKinhDoanh(a.MaNganh).TenNganh</label>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <div class="form-group bg-primary">
                <h5><b>B. KẾT QUẢ HOẠT ĐỘNG KINH DOANH</b></h5>
            </div>
            <table class="table table-bordered">
                <thead>
                    <tr class="text-center">
                        <th><b>Tên chỉ tiêu</b></th>
                        <th><b>Đơn vị tính</b></th>
                        <th style="width:20%"><b>Thực hiện</b></th>
                        <th style="width:20%"><b>Dự tính</b></th>
                        <th style="width:20%">
                            CỘNG DỒN TỪ ĐẦU NĂM ĐẾN CUỐI THÁNG BÁO CÁO
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-center">
                        <td>A</td>
                        <td>B</td>
                        <td>1</td>
                        <td>2</td>
                        <td>3</td>
                    </tr>
                    @foreach (Detail d in Model.Detail)
                    {
                        <tr>
                            <td>@d.Stt @d.TenCt</td>
                            <td class="text-center">@d.Dvt</td>
                            <td class="text-center">@format(d.ThthangTruoc)</td>
                            <td class="text-center">@format(d.DuTinh)</td>
                            <td class="text-center">@format(d.TongCongDon)</td>
                        </tr>
                    }
                </tbody>
            </table>
            <div class="form-group bg-primary">
                <h5><b>C. CÁC YẾU TỔ ẢNH HƯỞNG ĐẾN HOẠT ĐỘNG KINH DOANH</b></h5>
            </div>
            <div class="form-group">
                <label for="">
                    Yếu tố nào sau đây ảnh hưởng đến hoạt động kinh doanh của đơn vị
                    trong tháng @Model.Master.ThangThucHien
                </label>
                <div class="YTAH">
                    <div class="YTAH-tt">
                        @for (int i = 0; i < Model.DanhSachNhanToAnhHuong.Count; i++)
                        {
                               <label for="">@i. @nhanToAnhHuong(@Model.DanhSachNhanToAnhHuong[i].MaAh).NoiDungAh</label>
                        }
                    </div>
                </div>
                @if (Model.NhanToThu9 != null)
                {
                        <div class="YTAH9" style="margin-left:20px;">
                            <label>Yếu tố khác: @Model.NhanToThu9.NoiDung</label>
                        </div>
                }
            </div>
            <div class="uname-info">
                <div class="row">
                    <label class="uname-lb">Họ tên người trả lời:</label>
                    <label>@Model.Master.TenNguoiTraLoi</label>
                </div>
                <div class="row">
                    <label class="uname-lb">Số điện thoại:</label>
                    <label>@Model.Master.SdtnguoiTraLoi</label>
                </div>
            </div>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>

    <script type="text/javascript">
        $(".MS").keyup(function (e) {
            if (this.value.length === this.maxLength) {
                var next = $(this).data("next");
                if (next === 13) {
                } else {
                    var check = document.getElementById("n" + next).value;
                    if (check !== "") {
                    } else {
                        document.getElementById("n" + next).focus();
                    }
                }
            }
        });
        $("#YT9").change(function () {
            if (this.checked) {
                document.getElementById("comment").disabled = false;
            } else {
                document.getElementById("comment").disabled = true;
            }
        });
        $("#3").click(function () {
            $(".changed3").toggle(this.checked);
        });
        $("#3-1").click(function () {
            $(".changed3").hide(this.check);
        });
        $("#3-2").click(function () {
            $(".changed3").hide(this.check);
        });
        $("#5").click(function () {
            $(".changed1").toggle(this.checked);
        });
        $("#5-1").click(function () {
            $(".changed1").hide(this.check);
        });
        $("#13").click(function () {
            $(".changed2").toggle(this.checked);
        });
        $("#13-1").click(function () {
            $(".changed2").hide(this.check);
        });
    </script>

</body>
</html>