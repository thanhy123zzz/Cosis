@{
    FormCosisContext context = new FormCosisContext();
    List<LoaiPhieu> getLoaiPhieu(){
        if (User.IsInRole("001"))
        {
            return context.LoaiPhieu.ToList();
        }
        if (User.IsInRole("002"))
        {
            ThongTinDoanhNghiep tt = context.ThongTinDoanhNghiep.FirstOrDefault(x => x.TaiKhoan == User.Identity.Name);
            return context.LoaiPhieu.Where(x=>x.MaLoaiPhieu==tt.MaLoaiPhieu).ToList();
        }
        ThongTinCaThe td = context.ThongTinCaThe.FirstOrDefault(x => x.TaiKhoan == User.Identity.Name);
        return context.LoaiPhieu.Where(x => x.MaLoaiPhieu == td.MaLoaiPhieu).ToList();
    }
}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="~/assets/bootstrap-4.5.3-dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="~/assets/main.css" />
        <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="~/assets/DataTables-1.13.1/datatables.min.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="~/assets/index.css" />
  </head>
<body id="body">
    <!-- Header -->
    <div class="header">
    <img class="logo" src="assets/image/logo.png" alt="" />
      <div class="text-center text-white bg-dark">
        <p><b>HỆ THỐNG XỬ LÝ</b></p>
        <h1 style="margin-bottom: 10px"><b>ĐIỀU TRA DOANH NGHIỆP NĂM</b></h1>
      </div> <nav class="navbar navbar-expand-sm bg-info navbar-dark" style="padding: 0">
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link text-white" href="/Home/Index">Trang chủ</a>
            </li>
            @foreach(LoaiPhieu l in getLoaiPhieu()){
                <li class="nav-item">
                  <a class="nav-link text-white" href="/@l.MaLoaiPhieu/Index"
                    >@l.TenLoaiPhieu</a
                  >
                </li>
            }
            <li class="nav-item">
              Thương mại - Dịch vụ
              <div class="header-option">
                <div class="nav-option">
                  <div class="option">
                    Thương mại
                    <div class="header-option1">
                      <a class="option1" href="#">Phiếu 1.1</a>
                      <a class="option1" href="#">Phiếu 2.1</a>
                    </div>
                  </div>
                  <div class="option">
                    Dịch vụ
                    <div class="header-option1">
                      <a class="option1" href="#">Phiếu 1.2</a>
                      <a class="option1" href="#">Phiếu 1.3</a>
                      <a class="option1" href="#">Phiếu 1.4</a>
                      <a class="option1" href="#">Phiếu 2.3</a>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            <li class="nav-item">
              Nông lâm thủy sản
              <div class="header-option">
                <div class="nav-option">
                  <div class="option">Nông lâm</div>
                  <div class="option">Thủy sản</div>
                </div>
              </div>
            </li>
            <li class="nav-item">
              Công nghiệp - xây dựng
              <div class="header-option">
                <div class="nav-option">
                  <div class="option">Công nghiệp</div>
                  <div class="option">Xây dựng</div>
                </div>
              </div>
            </li>
          </ul>
        </div>
        <div class="collapse navbar-collapse" id="collapsibleNavbar" style="justify-content: flex-end; padding-right: 15px">
          <a class="nav-link text-white" href="/logout">@User.Identity.Name - Đăng xuất</a>
        </div>
      </nav>
    </div>

    <div id="bodyDiv" class="container">
            @RenderBody()
    </div>
  <!-- footer -->
    <footer class="footer  text-center p-2">
      <label for=""
        ><b
          >Phát triển bởi Trung tâm Tin học Thống kê khu vực II. 54A Nơ Trang
          Long, P.14, Bình Thạnh, TP.HCM. ĐT: (028) 35515433 - 33515438</b
        >
      </label>
    </footer>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
   <script src="~/assets/DataTables-1.13.1/datatables.min.js"></script>
  <script type="text/javascript">
    var strMS = "";
    function AddMS(item){
        strMS += item;
    }

    $(".MS").keyup(function (e) {
      if (this.value.length === this.maxLength) {
        var next = $(this).data("next");
        if (next === 13) {
        } else {
          var check = document.getElementById("n" + next).value;
          if (check !== "") {
          } else {
            document.getElementById("n" + next).focus();
          }
        }
      }
    });
    $("#YT9").change(function () {
      if (this.checked) {
        $('#comment').prop('disabled', false);
      } else {
        $('#comment').prop('disabled', true);
      }
    });
    $("#5").click(function () {
      $(".changed1").toggle(this.checked);
    });
    $("#5-1").click(function () {
      $(".changed1").toggle(this.check);
    });
    $("#13").click(function () {
      $(".changed2").toggle(this.checked);
    });
    $("#13-1").click(function () {
      $(".changed2").toggle(this.check);
    });

        $(document).ready(function () 
        {
      $.fn.DataTable.ext.pager.numbers_length = 5;
      $("#example").dataTable({
        pagingType: "simple_numbers",
        bLengthChange: false,
        bInfo: false,
        pageLength: 9,  
        language: {
          paginate: {
            previous: "Trước",
            next: "Sau",
          },
          searchPlaceholder: "Nhập cơ sở cần tìm",
          search: "",
        },
      });
        }
    );
    $(document).ready(function(){
        let kq = "@User.IsInRole("001")";
        if(kq=="True"){
            $('#bodyDiv').addClass("col-lg-12");
            $('#form').addClass("form");
            $('#tableQLTT').css("display","block");
            $('.MS').prop('readonly', false);
        }else{
            $('#tableQLTT').css("display","none");
            $('#form').addClass("form1");
            $('.MS').prop('readonly', true);
        }
    });
        
  </script>
    @RenderSection("Scripts", required: false)
</body>
</html>
